{% extends 'base.html' %}
{% block content %}
    <h1>Kalender für {{ request.user }}</h1>
    <div>
        <p>Geben sie ein datum ein und bestätigen sie, es wird dann der neue kalender geladen</p>
        <form method="POST">
            {% csrf_token %}
            <input type="date" name="weekDate" value="{{ date }}">
            <button>submit</button>
        </form>
        <p>Wählen sie eine Klasse aus und bestätigen sie die Auswahl, es wird dann eine Liste aller Klassen angezeigt</p>
        <form action="/test">
            <select name="classes" id="classes">
                {% for class in classes %}
                    <option value={{ class }}>{{ class }}</option>
                {% endfor %}
            </select>
            <input type="submit" value="search">
        </form>
        <p>Wählen sie ein Datum aus und bestätigen sie, </p>
        <form action="/kalender/day">
            <label>
                Enter your birthday:
                <input type="date" name="date">
            </label>
            <button>Submit</button>
        </form>
    </div>

    <br>
    <br>
    <br>
    <br>
    <table>
        <tr>

            <th>
                {{ tableHead.stunden }}
            </th>

            <form method="POST" action="kalender/day">
                {% csrf_token %}
                <input type="hidden" value="{{ tableDates.0 }}" name="date">
                <th>
                    <button>{{ tableHead.montag }}</button>
                </th>
            </form>
            <form method="POST" action="kalender/day">
                {% csrf_token %}
                <input type="hidden" value="{{ tableDates.1 }}" name="date">
                <th>
                    <button>{{ tableHead.dienstag }}</button>
                </th>
            </form>
            <form method="POST" action="kalender/day">
                {% csrf_token %}
                <input type="hidden" value="{{ tableDates.2 }}" name="date">
                <th>
                    <button>{{ tableHead.mittwoch }}</button>
                </th>
            </form>
            <form method="POST" action="kalender/day">
                {% csrf_token %}
                <input type="hidden" value="{{ tableDates.3 }}" name="date">
                <th>
                    <button>{{ tableHead.donnerstag }}</button>
                </th>
            </form>
            <form method="POST" action="kalender/day">
                {% csrf_token %}
                <input type="hidden" value="{{ tableDates.4 }}" name="date">
                <th>
                    <button>{{ tableHead.freitag }}</button>
                </th>
            </form>
        </tr>
        <tr>
            <td></td>
            {% for date in tableDates %}
                <td>{{ date }}</td>
            {% endfor %}
        </tr>
        {% for row in table %}
            <tr>
                <td>{{ row.stunden }}</td>
                <form method="POST" action="kalender/newLesson">
                    {% csrf_token %}
                    <input type="hidden" name="hours" value="{{ row.time }}">
                    <input type="hidden" name="date" value="{{ tableDates.0 }}">
                    {% if row.montag != "neu" %}
                        <input type="hidden" name="hasSubject" value="{{ row.montag }}">
                    {% endif %}
                    <td>
                        <button>{{ row.montag }}</button>
                    </td>
                </form>
                <form method="POST" action="kalender/newLesson">
                    {% csrf_token %}
                    <input type="hidden" name="hours" value="{{ row.time }}">
                    <input type="hidden" name="date" value="{{ tableDates.1 }}">
                    {% if row.dienstag != "neu" %}
                        <input type="hidden" name="hasSubject" value="{{ row.dienstag }}">
                    {% endif %}
                    <td>
                        <button>{{ row.dienstag }}</button>
                    </td>
                </form>
                <form method="POST" action="kalender/newLesson">
                    {% csrf_token %}
                    <input type="hidden" name="hours" value="{{ row.time }}">
                    <input type="hidden" name="date" value="{{ tableDates.2 }}">
                    {% if row.mittwoch != "neu" %}
                        <input type="hidden" name="hasSubject" value="{{ row.mittwoch }}">
                    {% endif %}
                    <td>
                        <button>{{ row.mittwoch }}</button>
                    </td>
                </form>
                <form method="POST" action="kalender/newLesson">
                    {% csrf_token %}
                    <input type="hidden" name="hours" value="{{ row.time }}">
                    <input type="hidden" name="date" value="{{ tableDates.3 }}">
                    {% if row.donnerstag != "neu" %}
                        <input type="hidden" name="hasSubject" value="{{ row.donnerstag }}">
                    {% endif %}
                    <td>
                        <button>{{ row.donnerstag }}</button>
                    </td>
                </form>
                <form method="POST" action="kalender/newLesson">
                    {% csrf_token %}
                    <input type="hidden" name="hours" value="{{ row.time }}">
                    <input type="hidden" name="date" value="{{ tableDates.4 }}">
                    {% if row.freitag != "neu" %}
                        <input type="hidden" name="hasSubject" value="{{ row.freitag }}">
                    {% endif %}
                    <td>
                        <button>{{ row.freitag }}</button>
                    </td>
                </form>
            </tr>
        {% endfor %}
    </table>
{% endblock %}